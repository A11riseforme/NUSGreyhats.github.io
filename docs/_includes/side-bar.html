<div class="sidebar">
    <div class="widget">
        <h3 class="entry-title">Recent Posts</h3>
        <ul class="tag_list">
            {% for post in site.posts limit:5 %}  
            <li class="fa fa-chevron-right"><a href="{{ site.url| append:post.url }}">{{ post.title }}</a></li> 
            {% endfor %}  
        </ul>
    </div>

    <div class="widget">
        <h3 class="entry-title">Archive</h3>
        <ul class="tag_list">
          {% for post in site.posts %}
            {% unless post.next %}
                <li class="fa fa-chevron-right"><a href="{{ site.url }}/{{ post.date | date: '%Y/%m' }}">{{ post.date | date: '%B %Y' }}</a></li> 
            {% else %}
              {% capture year %}{{ post.date | date: '%Y %b' }}{% endcapture %}
              {% capture nyear %}{{ post.next.date | date: '%Y %b' }}{% endcapture %}
              {% if year != nyear %}
                <li class="fa fa-chevron-right"><a href="{{ site.url }}/{{ post.date | date: '%Y/%m' }}">{{ post.date | date: '%B %Y' }}</a></li>
              {% endif %}
            {% endunless %}
          {% endfor %}
        </ul>
    </div>

    <div class="widget">
        <h3 class="entry-title">Authors</h3>
        <ul class="author_list">
            {% for author in site.data.authors %}
            <li class="fa fa-chevron-right"><a href="{{ site.url }}/authors/{{ author.id }}">{% if author.name %}{{ author.name }}{% else %}{{ author.id }}{% endif %}
            </a></li>
            {% endfor %}
        </ul>
    </div>

    <div class="widget">
        <h3 class="entry-title">Tags</h3>
        <ul class="tag_list">
            {% assign tag_list = site.tags %}
            {% if tag_list.first[0] == null %}
            {% for tag in tag_list %}
            <li class="fa fa-chevron-right"><a href="{{ site.url }}/tags/#{{ tag }}">{{ tag }}</a></li>
            {% endfor %}
            {% else %}
            {% for tag in tag_list %}
            <li class="fa fa-chevron-right"><a href="{{ site.url }}/tags/#{{ tag[0] }}">{{ tag[0] }}</a></li>
            {% endfor %}
            {% endif %}
            {% assign tag_list = nil %}
        </ul>
    </div>
</div>
